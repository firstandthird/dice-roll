/*!
  * Dice Roll - A javascript A/B library 
  * v0.0.2
  * https://github.com/jgallen23/dice-roll
  * copyright JGA 2011
  * MIT License
  */
!function(a,b){typeof module!="undefined"&&module.exports?module.exports=b():typeof define=="function"&&typeof define.amd=="object"?define(b):this[a]=b()}("DiceRoll",function(){var a=function(a,b){return this.expires=b||7,this.max=1e3,this.key="diceroll-"+a,this.monster=typeof ender!="undefined"?require("cookie-monster"):window.monster,this.cookie=this.monster?this.monster.get(this.key):!1,this.tests=[],this};return a.prototype.test=function(a,b){return this.tests.push({percentage:a,callback:b}),this},a.prototype.else=function(a){return this.else=a,this},a.prototype.run=function(){var a=Math.floor(Math.random()*this.max+1),b=0,c,d,e,f;for(var g=0,h=this.tests.length;g<h;g++){d=this.tests[g],this.cookie?d.percentage==this.cookie&&(f=!0,d.callback(this.cookie)):(c=d.percentage/100*this.max,a>=b&&a<=b+c?(this.monster&&this.monster.set(this.key,d.percentage+"",this.expires),d.callback(d.percentage),f=!0):f=!1,b+=c+1);if(f)return}this.else&&this.else()},a})